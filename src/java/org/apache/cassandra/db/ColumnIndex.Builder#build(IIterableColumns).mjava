        /**
         * Serializes the index into in-memory structure with all required components
         * such as Bloom Filter, index block size, IndexInfo list
         *
         * @param columns Column family to create index for
         *
         * @return information about index - it's Bloom Filter, block size and IndexInfo list
         */
        public ColumnIndex build(IIterableColumns columns)
        {
            int columnCount = columns.getEstimatedColumnCount();

            if (columnCount == 0)
                return ColumnIndex.EMPTY;

            for (IColumn c : columns)
                add(c);

            return build();
        }

