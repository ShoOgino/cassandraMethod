    private static Throwable shutdownAndWait(Throwable existing, ExecutorService executor)
    {
        return runAndMergeThrowable(existing, () -> {
            executor.shutdownNow();
            executor.awaitTermination(20, TimeUnit.SECONDS);
            assert executor.isTerminated() && executor.isShutdown() : executor;
        });
    }

