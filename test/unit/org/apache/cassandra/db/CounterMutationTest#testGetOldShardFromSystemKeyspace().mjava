    @Test
    public void testGetOldShardFromSystemKeyspace() throws IOException
    {
        // Renewing a bunch of times and checking we get the same thing from
        // the system keyspace that what is in memory
        CounterId.renewLocalId();
        CounterId.renewLocalId();
        CounterId.renewLocalId();

        List<CounterId.CounterIdRecord> inMem = CounterId.getOldLocalCounterIds();
        List<CounterId.CounterIdRecord> onDisk = SystemKeyspace.getOldLocalCounterIds();

        assert inMem.equals(onDisk);
    }

