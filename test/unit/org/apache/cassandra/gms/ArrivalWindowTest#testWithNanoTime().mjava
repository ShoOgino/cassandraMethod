    @Test
    public void testWithNanoTime()
    {
        final ArrivalWindow windowWithNano = new ArrivalWindow(4);
        final long toNano = 1000000L;

        windowWithNano.add(111 * toNano);
        windowWithNano.add(222 * toNano);
        windowWithNano.add(333 * toNano);
        windowWithNano.add(444 * toNano);
        windowWithNano.add(555 * toNano);

        //all good
        assertEquals(1.0, windowWithNano.phi(666 * toNano), 0.01);
        //oh noes, a much higher timestamp, something went wrong!
        assertEquals(22.03, windowWithNano.phi(3000 * toNano), 0.01);
    }

