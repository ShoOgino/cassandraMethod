    /**
     * returns the appropriate connection based on message type.
     * returns null if a connection could not be established.
     */
    synchronized OutboundTcpConnection getConnection(Message msg)
    {
        if (StageManager.RESPONSE_STAGE.equals(msg.getMessageType())
            || StageManager.GOSSIP_STAGE.equals(msg.getMessageType()))
        {
            if (ackCon == null)
            {
                ackCon = new OutboundTcpConnection(this, remoteEp_);
                ackCon.start();
            }
            return ackCon;
        }
        else
        {
            if (cmdCon == null)
            {
                cmdCon = new OutboundTcpConnection(this, remoteEp_);
                cmdCon.start();
            }
            return cmdCon;
        }
    }

