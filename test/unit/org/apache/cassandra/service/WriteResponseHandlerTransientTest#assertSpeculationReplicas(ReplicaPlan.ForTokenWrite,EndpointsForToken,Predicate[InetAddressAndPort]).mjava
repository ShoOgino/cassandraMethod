    private static void assertSpeculationReplicas(ReplicaPlan.ForTokenWrite expected, EndpointsForToken replicas, Predicate<InetAddressAndPort> livePredicate)
    {
        ReplicaPlan.ForTokenWrite actual = getSpeculationContext(replicas, livePredicate);
        Assert.assertTrue(Iterables.elementsEqual(expected.pending(), actual.pending()));
        Assert.assertTrue(Iterables.elementsEqual(expected.live(), actual.live()));
        Assert.assertTrue(Iterables.elementsEqual(expected.contacts(), actual.contacts()));
    }

