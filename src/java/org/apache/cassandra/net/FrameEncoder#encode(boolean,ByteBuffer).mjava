    /**
     * Takes ownership of the lifetime of the provided buffer, which can be assumed to be managed by BufferPool
     */
    abstract ByteBuf encode(boolean isSelfContained, ByteBuffer buffer);

