    // initialize local HB state if needed.
    public void maybeInitializeLocalState(int generationNbr) 
    {
        EndpointState localState = endpointStateMap.get(FBUtilities.getLocalAddress());
        if ( localState == null )
        {
            HeartBeatState hbState = new HeartBeatState(generationNbr);
            localState = new EndpointState(hbState);
            localState.markAlive();
            endpointStateMap.put(FBUtilities.getLocalAddress(), localState);
        }
    }

