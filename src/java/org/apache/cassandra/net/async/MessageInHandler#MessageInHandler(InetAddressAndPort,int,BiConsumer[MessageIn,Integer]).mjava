    public MessageInHandler(InetAddressAndPort peer, int messagingVersion, BiConsumer<MessageIn, Integer> messageConsumer)
    {
        super(peer, messagingVersion, messageConsumer);

        assert messagingVersion >= MessagingService.VERSION_40 : String.format("wrong messaging version for this handler: got %d, but expect %d or higher",
                                                                              messagingVersion, MessagingService.VERSION_40);
        state = State.READ_FIRST_CHUNK;
    }

