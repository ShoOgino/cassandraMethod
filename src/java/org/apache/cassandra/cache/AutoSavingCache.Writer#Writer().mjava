        private Writer()
        {
            keys = getKeySet();

            long bytes = 0;
            for (K key : keys)
                bytes += translateKey(key).remaining();

            // an approximation -- the keyset can change while saving
            estimatedTotalBytes = bytes;
        }

