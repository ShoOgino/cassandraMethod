    public BufferedRandomAccessFile(File file, String mode, int bufferSize, boolean skipCache) throws IOException
    {
        super(file, mode);

        this.skipCache = skipCache;

        channel = super.getChannel();
        filePath = file.getAbsolutePath();

        maxBufferSize = Math.max(bufferSize, DEFAULT_BUFFER_SIZE);

        // allocating required size of the buffer
        buffer = ByteBuffer.allocate((int) maxBufferSize);

        // if in read-only mode, caching file size
        fileLength = (mode.equals("r")) ? this.channel.size() : -1;
        bufferEnd = reBuffer(); // bufferBottom equals to the bytes read
        fd = CLibrary.getfd(this.getFD());
    }

