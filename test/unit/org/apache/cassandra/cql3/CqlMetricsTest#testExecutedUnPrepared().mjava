    @Test
    public void testExecutedUnPrepared()
    {
        QueryProcessor.metrics.reset();

        assert QueryProcessor.metrics.activePreparedStatements.count() == 1;
        assert QueryProcessor.metrics.executedPrepared.count() == 0;
        assert QueryProcessor.metrics.executedUnprepared.count() == 0;

        for (int i = 0; i < 10; i++)
        {
            session.execute(String.format("insert into junit.metricstest(id, val)values(%d,'%s')",i, "val"+1));
        }

        assert QueryProcessor.metrics.executedPrepared.count() == 0;
        assert QueryProcessor.metrics.executedUnprepared.count() == 10;
        assert QueryProcessor.metrics.preparedRatio.value() == 1d/10d;
    }

