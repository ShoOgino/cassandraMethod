    private long memRemaining()
    {
        return mem.size + mem.peer - offset;
    }

