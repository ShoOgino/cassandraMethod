        public void await() throws InterruptedException
        {
            assert !isCancelled();
            while (!isSignalled())
            {
                if (Thread.interrupted())
                {
                    checkAndClear();
                    throw new InterruptedException();
                }
                if (thread != Thread.currentThread())
                    throw new IllegalStateException();
                LockSupport.park();
            }
        }

