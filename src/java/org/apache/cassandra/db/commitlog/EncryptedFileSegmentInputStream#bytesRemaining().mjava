    public long bytesRemaining()
    {
        return expectedLength - (totalChunkOffset + buffer.position());
    }

