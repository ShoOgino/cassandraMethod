    static int readHeader(DataInputStream in) throws IOException
    {
        MessagingService.validateMagic(in.readInt());
        return in.readInt();
    }

