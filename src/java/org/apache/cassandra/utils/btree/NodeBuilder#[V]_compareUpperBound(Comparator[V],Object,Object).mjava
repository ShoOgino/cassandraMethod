    private static <V> int compareUpperBound(Comparator<V> comparator, Object value, Object upperBound)
    {
        return upperBound == POSITIVE_INFINITY ? -1 : comparator.compare((V)value, (V)upperBound);
    }

