    @Test
    public void reconnectWithNewIp()
    {
        for (ConnectionType type : INTERNODE_MESSAGING_CONN_TYPES)
        {
            Assert.assertEquals(REMOTE_ADDR, pool.getPreferredRemoteAddr());
            Assert.assertEquals(REMOTE_ADDR, pool.getConnection(type).getConnectionId().connectionAddress());
        }

        pool.reconnectWithNewIp(RECONNECT_ADDR);

        for (ConnectionType type : INTERNODE_MESSAGING_CONN_TYPES)
        {
            Assert.assertEquals(RECONNECT_ADDR, pool.getPreferredRemoteAddr());
            Assert.assertEquals(RECONNECT_ADDR, pool.getConnection(type).getConnectionId().connectionAddress());
        }
    }

