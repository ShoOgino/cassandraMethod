    /**
     * @return The valid contents of the buffer, possibly by copying: only safe for one-time-use buffers.
     */
    public byte[] asByteArray()
    {
        if (count == buf.length)
            // no-copy
            return buf;
        // copy
        return this.toByteArray();
    }

