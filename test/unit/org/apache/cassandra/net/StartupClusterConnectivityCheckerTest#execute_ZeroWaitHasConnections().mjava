    @Test
    public void execute_ZeroWaitHasConnections() throws InterruptedException
    {
        Sink sink = new Sink(true, true, new HashSet<>());
        MessagingService.instance().addMessageSink(sink);
        Assert.assertFalse(zeroWaitChecker.execute(peers, this::getDatacenter));
        boolean hasConnections = false;
        for (int i = 0; i < TIMEOUT_NANOS; i+= 10)
        {
            hasConnections = checkAllConnectionTypesSeen(sink);
            if (hasConnections)
                break;
            Thread.sleep(0, 10);
        }
        MessagingService.instance().clearMessageSinks();
        Assert.assertTrue(hasConnections);
    }

