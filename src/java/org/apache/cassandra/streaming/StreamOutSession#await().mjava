    /** convenience method for use when testing */
    void await() throws InterruptedException
    {
        while (streams.containsKey(sessionId))
            Thread.sleep(10);
    }

