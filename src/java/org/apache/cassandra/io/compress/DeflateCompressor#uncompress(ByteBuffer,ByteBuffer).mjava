    public int uncompress(ByteBuffer input_, ByteBuffer output) throws IOException
    {
        if (!output.hasArray())
            throw new IllegalArgumentException("DeflateCompressor doesn't work with direct byte buffers");

        byte[] input = ByteBufferUtil.getArray(input_);
        return uncompress(input, 0, input.length, output.array(), output.arrayOffset() + output.position());
    }

