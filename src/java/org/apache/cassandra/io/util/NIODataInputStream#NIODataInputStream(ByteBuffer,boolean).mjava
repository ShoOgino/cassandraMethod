    protected NIODataInputStream(ByteBuffer buf, boolean duplicate)
    {
        Preconditions.checkNotNull(buf);
        if (duplicate)
            this.buf = buf.duplicate();
        else
            this.buf = buf;

        this.rbc = emptyReadableByteChannel;
    }

