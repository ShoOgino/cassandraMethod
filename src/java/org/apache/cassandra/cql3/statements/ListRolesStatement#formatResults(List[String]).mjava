    // overridden in ListUsersStatement to include legacy metadata
    protected ResultMessage formatResults(List<String> sortedRoles)
    {
        ResultSet result = new ResultSet(metadata);

        IRoleManager roleManager = DatabaseDescriptor.getRoleManager();
        for (String role : sortedRoles)
        {
            result.addColumnValue(UTF8Type.instance.decompose(role));
            result.addColumnValue(BooleanType.instance.decompose(roleManager.isSuper(role)));
            result.addColumnValue(BooleanType.instance.decompose(roleManager.canLogin(role)));
        }
        return new ResultMessage.Rows(result);
    }

