    @Test
    public void compareDOS() throws IOException
    {
        buf = PooledByteBufAllocator.DEFAULT.ioBuffer(1024, 1024);
        ByteBuffer buffer = ByteBuffer.allocateDirect(1024);

        ByteBufDataOutputPlus byteBufDataOutputPlus = new ByteBufDataOutputPlus(buf);
        DataOutputBuffer dataOutputBuffer = new DataOutputBuffer(buffer);

        write(byteBufDataOutputPlus);
        write(dataOutputBuffer);

        Assert.assertEquals(buffer.position(), buf.writerIndex());
        for (int i = 0; i < buffer.position(); i++)
        {
            Assert.assertEquals(buffer.get(i), buf.getByte(i));
        }
    }

