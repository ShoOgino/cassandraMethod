    private static void generateBoundaries(Random random, int candidateCount, long[] candidates, int[] indexesToCheck)
    {
        // average averageBoundarySize is 4MiB, max 4GiB, min 4KiB
        long averageBoundarySize = (4L << 10) * random.nextInt(1 << 20);
        long prev = 0;
        for (int i = 1 ; i < candidateCount ; i++)
            candidates[i] = prev += Math.max(1, averageBoundarySize + (random.nextGaussian() * averageBoundarySize));

        // generate indexes we will corroborate our behaviour on
        for (int i = 0 ; i < indexesToCheck.length ; i++)
            indexesToCheck[i] = 1 + random.nextInt(candidateCount - 2);
        Arrays.sort(indexesToCheck);
    }

