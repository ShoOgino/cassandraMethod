    @Override
    public Channel createConnection(OutboundConnectionIdentifier connectionId, int protocolVersion) throws IOException
    {
        ServerEncryptionOptions encryptionOptions = DatabaseDescriptor.getInternodeMessagingEncyptionOptions();

        if (encryptionOptions.internode_encryption == ServerEncryptionOptions.InternodeEncryption.none)
            encryptionOptions = null;

        return createConnection(connectionId, protocolVersion, encryptionOptions);
    }

