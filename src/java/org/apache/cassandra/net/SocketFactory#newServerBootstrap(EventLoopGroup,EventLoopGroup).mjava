    private static ServerBootstrap newServerBootstrap(EventLoopGroup acceptGroup, EventLoopGroup defaultGroup)
    {
        ServerBootstrap bootstrap = new ServerBootstrap()
               .group(acceptGroup, defaultGroup)
               .option(ChannelOption.ALLOCATOR, GlobalBufferPoolAllocator.instance)
               .option(ChannelOption.SO_REUSEADDR, true);

        switch (providerOf(defaultGroup))
        {
            case EPOLL:
               bootstrap.channel(EpollServerSocketChannel.class);
               break;
            case NIO:
               bootstrap.channel(NioServerSocketChannel.class);
        }

        return bootstrap;
    }

