    @Test
    public void getConnection_LargeMessage()
    {
        // just need a serializer to report a size, as fake as it may be
        IVersionedSerializer<Object> serializer = new IVersionedSerializer<Object>()
        {
            public void serialize(Object o, DataOutputPlus out, int version)
            {

            }

            public Object deserialize(DataInputPlus in, int version)
            {
                return null;
            }

            public long serializedSize(Object o, int version)
            {
                return OutboundMessagingPool.LARGE_MESSAGE_THRESHOLD + 1;
            }
        };
        MessageOut message = new MessageOut<>(MessagingService.Verb.UNUSED_5, "payload", serializer);
        Assert.assertEquals(ConnectionType.LARGE_MESSAGE, pool.getConnection(message).getConnectionId().type());
    }

