    private static long minValueIfSet(long existing, long update, long defaultValue)
    {
        if (existing == defaultValue)
            return update;
        if (update == defaultValue)
            return existing;
        return Math.min(existing, update);
    }

