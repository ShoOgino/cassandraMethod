    private boolean addRecord(LogRecord record)
    {
        if (!records.add(record))
            return false;

        // we only checksum the records, not the checksums themselves
        FileUtils.append(file, record.toString());
        sync();
        return true;
    }

