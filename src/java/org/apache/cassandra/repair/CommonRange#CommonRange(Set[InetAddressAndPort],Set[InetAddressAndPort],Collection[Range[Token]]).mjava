    public CommonRange(Set<InetAddressAndPort> endpoints, Set<InetAddressAndPort> transEndpoints, Collection<Range<Token>> ranges)
    {
        Preconditions.checkArgument(endpoints != null && !endpoints.isEmpty());
        Preconditions.checkArgument(transEndpoints != null);
        Preconditions.checkArgument(endpoints.containsAll(transEndpoints), "transEndpoints must be a subset of endpoints");
        Preconditions.checkArgument(ranges != null && !ranges.isEmpty());

        this.endpoints = ImmutableSet.copyOf(endpoints);
        this.transEndpoints = ImmutableSet.copyOf(transEndpoints);
        this.ranges = new ArrayList(ranges);
    }

