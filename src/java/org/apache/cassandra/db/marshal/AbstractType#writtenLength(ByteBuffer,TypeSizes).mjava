    public long writtenLength(ByteBuffer value, TypeSizes sizes)
    {
        assert value.hasRemaining();
        return valueLengthIfFixed() >= 0
             ? value.remaining()
             : sizes.sizeofWithLength(value);
    }

