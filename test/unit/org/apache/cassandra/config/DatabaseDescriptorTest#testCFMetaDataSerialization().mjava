    @Test
    public void testCFMetaDataSerialization() throws IOException, ConfigurationException
    {
        // test serialization of all defined test CFs.
        for (String table : DatabaseDescriptor.getNonSystemTables())
        {
            for (CFMetaData cfm : DatabaseDescriptor.getTableMetaData(table).values())
            {
                byte[] ser = CFMetaData.serialize(cfm);
                CFMetaData cfmDupe = CFMetaData.deserialize(new ByteArrayInputStream(ser));
                assert cfmDupe != null;
                assert cfmDupe.equals(cfm);
            }
        }

    }

