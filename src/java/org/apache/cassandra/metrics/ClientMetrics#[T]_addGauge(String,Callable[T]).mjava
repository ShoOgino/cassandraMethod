    public <T> void addGauge(String name, final Callable<T> provider)
    {
        Metrics.register(factory.createMetricName(name), (Gauge<T>) () -> {
            try
            {
                return provider.call();
            } catch (Exception e)
            {
                throw new RuntimeException(e);
            }
        });
    }

