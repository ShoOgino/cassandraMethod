    /**
     * After an insert, this hook is called to adjust the size/free values of
     * the set and to perform rehashing if necessary.
     */
    protected final void postInsertHook(boolean usedFreeSlot)
    {
        if (usedFreeSlot)
        {
            free_--;
        }
        
        // rehash whenever we exhaust the available space in the table
        if (++size_ > maxSize_ || free_ == 0)
        {
            // choose a new capacity suited to the new state of the table
            // if we've grown beyond our maximum size, double capacity;
            // if we've exhausted the free spots, rehash to the same capacity,
            // which will free up any stale removed slots for reuse.
            int newCapacity = size_ > maxSize_ ? PrimeFinder
                    .nextPrime(capacity() << 1) : capacity();
                    rehash(newCapacity);
                    computeMaxSize(capacity());
        }
    }

