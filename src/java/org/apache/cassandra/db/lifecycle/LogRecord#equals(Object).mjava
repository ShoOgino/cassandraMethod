    @Override
    public boolean equals(Object obj)
    {
        if (!(obj instanceof LogRecord))
            return false;

        final LogRecord other = (LogRecord)obj;

        // we exclude on purpose checksum, update time and count as
        // we don't want duplicated records that differ only by
        // properties that might change on disk, especially COMMIT records,
        // there should be only one regardless of update time
        // however we must compare the error to make sure we have more than
        // one UNKNOWN record, if we fail to parse more than one
        return type == other.type &&
               relativeFilePath.equals(other.relativeFilePath) &&
               error.equals(other.error);
    }

