    @Test
    public void testColumnSameNameAsPartitionKeyCql3() throws Exception
    {
        CFMetaData cfm = CFMetaData.compile("CREATE TABLE cs (" +
                                            "k int PRIMARY KEY, v int)", "ks");

        LegacyLayout.LegacyCellName cellName 
            = LegacyLayout.decodeCellName(cfm, 
                                          LegacyLayout.makeLegacyComparator(cfm)
                                                      .fromString("k"));

        // When being grouped into Rows by LegacyLayout.CellGrouper,
        // primary key columns are filtered out
        assertTrue(cellName.column.isPrimaryKeyColumn());
    }

