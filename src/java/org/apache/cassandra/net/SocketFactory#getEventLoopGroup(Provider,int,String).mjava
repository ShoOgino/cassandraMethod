    private static EventLoopGroup getEventLoopGroup(Provider provider, int threadCount, String threadNamePrefix)
    {
        switch (provider)
        {
            case EPOLL:
                logger.debug("using netty epoll event loop for pool prefix {}", threadNamePrefix);
                return overwriteMPSCQueues(new EpollEventLoopGroup(threadCount, new DefaultThreadFactory(threadNamePrefix, true)));
            case NIO:
                logger.debug("using netty nio event loop for pool prefix {}", threadNamePrefix);
                return overwriteMPSCQueues(new NioEventLoopGroup(threadCount, new DefaultThreadFactory(threadNamePrefix, true)));
            default:
                throw new IllegalStateException();
        }
    }

