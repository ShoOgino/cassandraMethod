    private int compareCollectionTypes(AbstractType<?> type, AbstractType<?> otherType)
    {
        if (type instanceof MapType)
            return compareMapType((MapType<?, ?>) type, (MapType<?, ?>) otherType);

        if (type instanceof SetType)
            return compare(((SetType<?>) type).getElementsType(), ((SetType<?>) otherType).getElementsType());

        return compare(((ListType<?>) type).getElementsType(), ((ListType<?>) otherType).getElementsType());
    }

