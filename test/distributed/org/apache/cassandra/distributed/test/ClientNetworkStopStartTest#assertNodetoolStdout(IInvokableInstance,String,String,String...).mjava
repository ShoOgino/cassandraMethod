    private static void assertNodetoolStdout(IInvokableInstance node, String expectedStatus, String notExpected, String... nodetool)
    {
        // without CASSANDRA-16057 need this hack
        PrintStream previousStdout = System.out;
        try
        {
            ByteArrayOutputStream out = new ByteArrayOutputStream();
            PrintStream stdout = new PrintStream(out, true);
            System.setOut(stdout);

            node.nodetoolResult(nodetool).asserts().success();

            stdout.flush();
            String output = out.toString();
            Assert.assertThat(output, new StringContains(expectedStatus));
            if (notExpected != null)
                Assert.assertThat(output, new StringNotContains(notExpected));
        }
        finally
        {
            System.setOut(previousStdout);
        }
    }

