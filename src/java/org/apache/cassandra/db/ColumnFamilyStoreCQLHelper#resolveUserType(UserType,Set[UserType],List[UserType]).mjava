    private static void resolveUserType(UserType type, Set<UserType> typeSet, List<UserType> types)
    {
        for (AbstractType subType: type.fieldTypes())
            if (!typeSet.contains(subType) && subType instanceof UserType)
                resolveUserType((UserType) subType, typeSet, types);

        if (!typeSet.contains(type))
        {
            UserType t = type;
            typeSet.add(t);
            types.add(t);
        }
    }

