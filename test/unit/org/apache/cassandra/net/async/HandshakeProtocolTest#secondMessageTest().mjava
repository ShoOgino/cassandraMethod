    @Test
    public void secondMessageTest() throws Exception
    {
        SecondHandshakeMessage before = new SecondHandshakeMessage(MessagingService.current_version);
        buf = before.encode(PooledByteBufAllocator.DEFAULT);
        SecondHandshakeMessage after = SecondHandshakeMessage.maybeDecode(buf);
        assertEquals(before, after);
        assertEquals(before.hashCode(), after.hashCode());
        Assert.assertFalse(before.equals(null));
    }

