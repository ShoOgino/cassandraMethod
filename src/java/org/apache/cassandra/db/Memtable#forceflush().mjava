    /*
     * This version is used to switch memtable and force flush.
     * Flushing is still done in a separate executor -- forceFlush only blocks
     * until the flush runnable is queued.
    */
    public void forceflush()
    {
        try
        {
            enqueueFlush(CommitLog.open(table_).getContext());
            executor_.flushQueuer.get();
        }
        catch (Exception ex)
        {
            throw new RuntimeException(ex);
        }
    }

