    @Test
    public void testManualRepair() throws Throwable
    {
        RepairFuture sess = AntiEntropyService.instance.submitRepairSession(local_range, tablename, cfname);

        // ensure that the session doesn't end without a response from REMOTE
        try
        {
            sess.get(500, TimeUnit.MILLISECONDS);
            fail("Repair session should not end without response from REMOTE");
        }
        catch (TimeoutException e) {}

        // deliver a fake response from REMOTE
        sess.session.completed(REMOTE, request.cf.right);

        // block until the repair has completed
        sess.get();
    }

