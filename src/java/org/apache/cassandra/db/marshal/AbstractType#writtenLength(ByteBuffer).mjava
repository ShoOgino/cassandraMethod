    public long writtenLength(ByteBuffer value)
    {
        assert value.hasRemaining() : "bytes should not be empty for type " + this;
        return valueLengthIfFixed() >= 0
             ? value.remaining()
             : TypeSizes.sizeofWithVIntLength(value);
    }

