    /*
     * This is called on Memtable flush to add to the commit log
     * a token indicating that this column family has been flushed.
     * The bit flag associated with this column family is set in the
     * header and this is used to decide if the log file can be deleted.
    */
    synchronized void onMemtableFlush(String tableName, String cf, CommitLog.CommitLogContext cLogCtx) throws IOException
    {
        Table table = Table.open(tableName);
        int id = table.getColumnFamilyId(cf);
        discardCompletedSegments(cLogCtx, id);
    }

