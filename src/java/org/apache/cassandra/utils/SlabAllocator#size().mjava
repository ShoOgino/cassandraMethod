    /** @return Total number of bytes allocated by this allocator. */
    public long size()
    {
        Iterable<Region> regions = filledRegions;
        if (currentRegion.get() != null)
            regions = Iterables.concat(regions, Collections.<Region>singleton(currentRegion.get()));

        long total = 0;
        for (Region region : regions)
            total += region.size;
        return total;
    }

