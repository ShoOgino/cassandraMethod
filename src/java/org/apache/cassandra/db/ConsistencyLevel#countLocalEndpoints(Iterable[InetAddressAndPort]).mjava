    public int countLocalEndpoints(Iterable<InetAddressAndPort> liveEndpoints)
    {
        int count = 0;
        for (InetAddressAndPort endpoint : liveEndpoints)
            if (isLocal(endpoint))
                count++;
        return count;
    }

