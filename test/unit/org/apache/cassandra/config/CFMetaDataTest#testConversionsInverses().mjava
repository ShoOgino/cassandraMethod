    @Test
    public void testConversionsInverses() throws Exception
    {
        for (String table : Schema.instance.getNonSystemTables())
        {
            for (ColumnFamilyStore cfs : Table.open(table).getColumnFamilyStores())
            {
                CFMetaData cfm = cfs.metadata;
                checkInverses(cfm);

                // Testing with compression to catch #3558
                CFMetaData withCompression = CFMetaData.rename(cfm, cfm.cfName); // basically a clone
                withCompression.compressionParameters(new CompressionParameters(SnappyCompressor.instance, 32768, new HashMap<String, String>()));
                checkInverses(withCompression);
            }
        }
    }

