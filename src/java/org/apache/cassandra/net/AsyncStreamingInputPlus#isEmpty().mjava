    public boolean isEmpty()
    {
        return queue.isEmpty() && (buffer == null || !buffer.hasRemaining());
    }

