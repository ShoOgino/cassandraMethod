    protected int bufferCursor()
    {
        return (int) (current - bufferOffset);
    }

