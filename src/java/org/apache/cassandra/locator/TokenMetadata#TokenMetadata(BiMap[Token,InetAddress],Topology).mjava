    public TokenMetadata(BiMap<Token, InetAddress> tokenToEndpointMap, Topology topology)
    {
        this.tokenToEndpointMap = tokenToEndpointMap;
        this.topology = topology;
        endpointToHostIdMap = HashBiMap.create();
        sortedTokens = sortTokens();
    }

