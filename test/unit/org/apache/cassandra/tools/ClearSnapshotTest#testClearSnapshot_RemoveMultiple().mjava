    @Test
    public void testClearSnapshot_RemoveMultiple() throws IOException
    {
        ToolRunner tool = runner.invokeNodetool("snapshot","-t","some-name").waitAndAssertOnCleanExit();
        assertTrue(!tool.getStdout().isEmpty());
        tool = runner.invokeNodetool("snapshot","-t","some-other-name").waitAndAssertOnCleanExit();
        assertTrue(!tool.getStdout().isEmpty());
        
        Map<String, TabularData> snapshots_before = probe.getSnapshotDetails();
        Assert.assertTrue(snapshots_before.size() == 2);

        tool = runner.invokeNodetool("clearsnapshot","--all").waitAndAssertOnCleanExit();
        assertTrue(!tool.getStdout().isEmpty());
        
        Map<String, TabularData> snapshots_after = probe.getSnapshotDetails();
        Assert.assertTrue(snapshots_after.size() == 0);
    }

