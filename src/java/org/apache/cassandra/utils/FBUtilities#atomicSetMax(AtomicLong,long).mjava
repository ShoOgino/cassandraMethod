    public static void atomicSetMax(AtomicLong atomic, long i)
    {
        long j;
        while (true)
        {
            if ((j = atomic.getAndSet(i)) <= i)
                break;
            i = j;
        }
    }

