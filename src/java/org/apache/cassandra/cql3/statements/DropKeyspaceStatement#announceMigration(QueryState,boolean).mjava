    public Event.SchemaChange announceMigration(QueryState queryState, boolean isLocalOnly) throws ConfigurationException
    {
        if (null != VirtualKeyspaceRegistry.instance.getKeyspaceNullable(keyspace))
            throw new InvalidRequestException("Cannot drop virtual keyspaces");

        try
        {
            MigrationManager.announceKeyspaceDrop(keyspace, isLocalOnly);
            return new Event.SchemaChange(Event.SchemaChange.Change.DROPPED, keyspace());
        }
        catch(ConfigurationException e)
        {
            if (ifExists)
                return null;
            throw e;
        }
    }

