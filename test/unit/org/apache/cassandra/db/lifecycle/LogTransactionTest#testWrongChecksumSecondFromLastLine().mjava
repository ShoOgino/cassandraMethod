    @Test
    public void testWrongChecksumSecondFromLastLine() throws IOException
    {
        testCorruptRecord((t, s) ->
                          { // Fake two lines with invalid checksum
                              FileUtils.append(t.getLogFile().file,
                                               String.format("add:[ma-3-big,%d,4][%d]",
                                                             System.currentTimeMillis(),
                                                             12345678L));

                              FileUtils.append(t.getLogFile().file,
                                               String.format("commit:[%d,0,0][%d]",
                                                             System.currentTimeMillis(),
                                                             12345678L));
                          },
                          false);
    }

