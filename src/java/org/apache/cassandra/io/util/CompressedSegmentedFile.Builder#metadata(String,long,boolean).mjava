        protected CompressionMetadata metadata(String path, long overrideLength, boolean isFinal)
        {
            if (writer == null)
                return CompressionMetadata.create(path);

            return writer.open(overrideLength, isFinal);
        }

