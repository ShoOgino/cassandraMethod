    public static long align(long val, int boundary)
    {
        return (val + boundary) & ~(boundary - 1);
    }

