    Multimap<Range, InetAddress> getRangesWithSources()
    {
        TokenMetadata temp = tokenMetadata.cloneMe();
        assert temp.sortedTokens().size() > 0;
        temp.update(token, address);
        Collection<Range> myRanges = replicationStrategy.getAddressRanges(temp).get(address);

        Multimap<Range, InetAddress> myRangeAddresses = HashMultimap.create();
        Multimap<Range, InetAddress> rangeAddresses = replicationStrategy.getRangeAddresses(tokenMetadata);
        for (Range range : rangeAddresses.keySet())
        {
            for (Range myRange : myRanges)
            {
                if (range.contains(myRange.right()))
                {
                    myRangeAddresses.putAll(myRange, rangeAddresses.get(range));
                    break;
                }
            }
        }
        return myRangeAddresses;
    }

