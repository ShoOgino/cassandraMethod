        /**
         * Checks that the operator for the specified column is compatible with the bounds of the existing restriction.
         *
         * @param existing the existing restriction
         * @param name the column name
         * @param relType the type of relation
         * @throws InvalidRequestException if the operator is not compatible with the bounds of the existing restriction
         */
        private static void checkBound(Restriction existing, Name name, Relation.Type relType) throws InvalidRequestException
        {
            Restriction.Slice existingSlice = (Restriction.Slice) existing;

            if (existingSlice.hasBound(Bound.START) && (relType == Relation.Type.GT || relType == Relation.Type.GTE))
                throw new InvalidRequestException(String.format(
                            "More than one restriction was found for the start bound on %s", name.name));

            if (existingSlice.hasBound(Bound.END) && (relType == Relation.Type.LT || relType == Relation.Type.LTE))
                throw new InvalidRequestException(String.format(
                            "More than one restriction was found for the end bound on %s", name.name));
        }

