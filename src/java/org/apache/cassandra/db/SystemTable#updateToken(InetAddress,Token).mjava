    /**
     * Record token being used by another node
     */
    public static synchronized void updateToken(InetAddress ep, Token token)
    {
        if (ep.equals(FBUtilities.getBroadcastAddress()))
        {
            removeToken(token);
            return;
        }

        IPartitioner p = StorageService.getPartitioner();
        String req = "INSERT INTO system.%s (token_bytes, peer) VALUES ('%s', '%s')";
        String tokenBytes = ByteBufferUtil.bytesToHex(p.getTokenFactory().toByteArray(token));
        processInternal(String.format(req, PEERS_CF, tokenBytes, ep.getHostAddress()));
        forceBlockingFlush(PEERS_CF);
    }

