    /**
     * Performs a readonly compaction of all sstables in order to validate
     * them on request, but without performing any writes.
     */
    void doReadonlyCompaction(InetAddress initiator) throws IOException
    {
        Collection<SSTableReader> sstables = ssTables_.getSSTables();
        CompactionIterator ci = new CompactionIterator(sstables, getDefaultGCBefore());
        try
        {
            Iterator nni = new FilterIterator(ci, PredicateUtils.notNullPredicate());

            // validate the CF as we iterate over it
            AntiEntropyService.IValidator validator = AntiEntropyService.instance().getValidator(table_, columnFamily_, initiator);
            validator.prepare();
            while (nni.hasNext())
            {
                CompactionIterator.CompactedRow row = (CompactionIterator.CompactedRow) nni.next();
                validator.add(row);
            }
            validator.complete();
        }
        finally
        {
            ci.close();
        }
    }

