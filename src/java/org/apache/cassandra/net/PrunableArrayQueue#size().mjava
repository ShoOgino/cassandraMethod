    int size()
    {
        return (tail - head) & mask;
    }

