    public TraceState(InetAddress coordinator, Connection connection, UUID sessionId, Tracing.TraceType traceType, boolean withFinishEvent)
    {
        assert coordinator != null;
        assert sessionId != null;

        this.coordinator = coordinator;
        this.connection = connection;
        this.sessionId = sessionId;
        sessionIdBytes = ByteBufferUtil.bytes(sessionId);
        this.traceType = traceType;
        this.ttl = traceType.getTTL();
        watch = Stopwatch.createStarted();
        this.status = Status.IDLE;
        this.withFinishEvent = withFinishEvent;
    }

