    @Override
    public synchronized long getSize()
    {
        Preconditions.checkState(size > 0, "Stream hasn't been read yet");
        return size;
    }

