    /**
     * Waits for the futures to complete.
     * @param timeout the timeout expressed in <code>TimeUnit</code> units
     * @param timeUnit TimeUnit
     * @throws TimeoutException if the waiting time exceeds <code>timeout</code>
     */
    public static void waitOnFutures(List<CreationTimeAwareFuture<?>> hintFutures, long timeout, TimeUnit timeUnit) throws TimeoutException
    {
        for (Future<?> future : hintFutures)
        {
            try
            {
                future.get(timeout, timeUnit);
            }
            catch (InterruptedException ex)
            {
                throw new AssertionError(ex);
            }
            catch (ExecutionException e)
            {
                throw new RuntimeException(e);
            }
            catch (TimeoutException e)
            {
               throw e;
            }
        }
    }

