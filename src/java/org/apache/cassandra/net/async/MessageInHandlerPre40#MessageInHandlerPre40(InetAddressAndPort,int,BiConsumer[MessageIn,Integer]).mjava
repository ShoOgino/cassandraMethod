    public MessageInHandlerPre40(InetAddressAndPort peer, int messagingVersion, BiConsumer<MessageIn, Integer> messageConsumer)
    {
        super(peer, messagingVersion, messageConsumer);

        if (messagingVersion >= MessagingService.VERSION_40)
            throw new IllegalArgumentException(String.format("wrong messaging version for this handler", messagingVersion));

        state = State.READ_FIRST_CHUNK;
    }

