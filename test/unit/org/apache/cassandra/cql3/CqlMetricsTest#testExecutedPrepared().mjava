    @Test
    public void testExecutedPrepared()
    {
        QueryProcessor.metrics.reset();

        assert QueryProcessor.metrics.activePreparedStatements.count() == 1;
        assert QueryProcessor.metrics.executedPrepared.count() == 0;
        assert QueryProcessor.metrics.executedUnprepared.count() == 0;
        assert QueryProcessor.metrics.preparedRatio.value() == 1.0;

        for (int i = 0; i < 10; i++)
        {
            session.execute(metricsStatement.bind(i, "val"+i));
        }

        assert QueryProcessor.metrics.executedPrepared.count() == 10;
        assert QueryProcessor.metrics.executedUnprepared.count() == 0;
        assert QueryProcessor.metrics.preparedRatio.value() == 10d/1d;

    }

