    /**
     * Between version b and c, on disk bloom filters became incompatible, and needed to be regenerated.
     */
    @Test
    public void testVerB() throws IOException
    {
        SSTableReader reader = SSTableReader.open(getDescriptor("b"));

        List<byte[]> keys = new ArrayList<byte[]>(TEST_DATA.keySet());
        Collections.shuffle(keys);
        BufferedRandomAccessFile file = new BufferedRandomAccessFile(reader.getFilename(), "r");
        for (byte[] key : keys)
        {
            // confirm that the bloom filter does not reject any keys
            file.seek(reader.getPosition(reader.partitioner.decorateKey(key), SSTableReader.Operator.EQ));
            assert Arrays.equals(key, FBUtilities.readShortByteArray(file));
        }
    }

