    private void rescale(long now)
    {
        final double rescaleFactor = forwardDecayWeight(now);

        final int bucketCount = decayingBuckets.length;
        for (int i = 0; i < bucketCount; i++)
        {
            long storedValue = decayingBuckets[i].sumThenReset();
            storedValue = Math.round(storedValue / rescaleFactor);
            decayingBuckets[i].add(storedValue);
        }
    }

