        public long serializedSize(ColumnFilter selection, int version, TypeSizes sizes)
        {
            long size = 1; // header byte

            if (selection.selection != null)
            {
                size += Columns.serializer.serializedSize(selection.selection.statics, sizes);
                size += Columns.serializer.serializedSize(selection.selection.regulars, sizes);
            }

            if (selection.subSelections != null)
            {

                size += sizes.sizeof((short)selection.subSelections.size());
                for (ColumnSubselection subSel : selection.subSelections.values())
                    size += ColumnSubselection.serializer.serializedSize(subSel, version, sizes);
            }

            return size;
        }

