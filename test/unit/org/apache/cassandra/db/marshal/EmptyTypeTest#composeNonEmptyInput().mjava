    @Test
    public void composeNonEmptyInput()
    {
        try
        {
            EmptyType.instance.compose(ByteBufferUtil.bytes("should fail"));
            Assert.fail("compose is expected to reject non-empty values, but did not");
        }
        catch (MarshalException e) {
            Assert.assertTrue(e.getMessage().startsWith("EmptyType only accept empty values"));
        }
    }

