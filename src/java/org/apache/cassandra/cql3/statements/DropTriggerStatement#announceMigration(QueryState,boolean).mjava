    public Event.SchemaChange announceMigration(QueryState queryState, boolean isLocalOnly) throws ConfigurationException, InvalidRequestException
    {
        TableMetadata current = Schema.instance.getTableMetadata(keyspace(), columnFamily());
        Triggers triggers = current.triggers;

        if (!triggers.get(triggerName).isPresent())
        {
            if (ifExists)
                return null;
            else
                throw new InvalidRequestException(String.format("Trigger %s was not found", triggerName));
        }

        logger.info("Dropping trigger with name {}", triggerName);

        TableMetadata updated =
            current.unbuild()
                   .triggers(triggers.without(triggerName))
                   .build();

        MigrationManager.announceTableUpdate(updated, isLocalOnly);

        return new Event.SchemaChange(Event.SchemaChange.Change.UPDATED, Event.SchemaChange.Target.TABLE, keyspace(), columnFamily());
    }

