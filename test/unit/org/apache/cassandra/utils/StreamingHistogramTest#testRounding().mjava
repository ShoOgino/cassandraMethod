    @Test
    public void testRounding() throws Exception
    {
        StreamingHistogram.StreamingHistogramBuilder histogramBuilder = new StreamingHistogram.StreamingHistogramBuilder(5, 10, 60);
        long[] samples = new long[] { 59, 60, 119, 180, 181, 300 }; // 60, 60, 120, 180, 240, 300
        for (int i = 0 ; i < samples.length ; i++)
            histogramBuilder.update(samples[i]);

        StreamingHistogram hist = histogramBuilder.build();
        assertEquals(hist.getAsMap().keySet().size(), (int) 5);
        assertEquals((long) hist.getAsMap().get(Double.valueOf(60)), (long) 2L);
        assertEquals((long) hist.getAsMap().get(Double.valueOf(120)), (long) 1L);

    }

