	@Test
	public void testTruncate() throws IOException, ExecutionException, InterruptedException
	{
		Keyspace keyspace = Keyspace.open("Keyspace1");
		ColumnFamilyStore cfs = keyspace.getColumnFamilyStore("Standard1");

		RowMutation rm;
		ColumnFamily cf;

		// add a single cell
        cf = TreeMapBackedSortedColumns.factory.create("Keyspace1", "Standard1");
		cf.addColumn(column("col1", "val1", 1L));
        rm = new RowMutation("Keyspace1", ByteBufferUtil.bytes("keymulti"), cf);
		rm.apply();

		// Make sure data was written
		assertNotNull(getFromTable(keyspace, "Standard1", "keymulti", "col1"));

		// and now truncate it
		cfs.truncateBlocking();
        CommitLog.instance.resetUnsafe();
		CommitLog.instance.recover();

		// and validate truncation.
		assertNull(getFromTable(keyspace, "Standard1", "keymulti", "col1"));
	}

