    public Directories getDirectories()
    {
        // todo, hack since we need to know the data directories when constructing the compaction strategy
        if (directories != null)
            return directories;
        return new Directories(metadata, initialDirectories);
    }

