    @Test
    public void testCompositeWithColumnNameSameAsClusteringKeyCql3() throws Exception
    {
        CFMetaData cfm = CFMetaData.compile("CREATE TABLE cs (" +
                                            "k int, c text, v int, PRIMARY KEY(k, c))", "ks");

        LegacyLayout.LegacyCellName cellName
            = LegacyLayout.decodeCellName(cfm,
                                          LegacyLayout.makeLegacyComparator(cfm)
                                                      .fromString("c_value:c"));

        // When being grouped into Rows by LegacyLayout.CellGrouper,
        // primary key columns are filtered out
        assertTrue(cellName.column.isPrimaryKeyColumn());
    }

