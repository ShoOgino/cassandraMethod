    public static void writeShortByteArray(ByteBuffer name, DataOutput out)
    {
        int length = name.remaining();
        assert 0 <= length && length <= MAX_UNSIGNED_SHORT;
        try
        {
            out.writeByte((length >> 8) & 0xFF);
            out.writeByte(length & 0xFF);
            out.write(name.array(), name.position()+name.arrayOffset(), name.remaining());
        }
        catch (IOException e)
        {
            throw new RuntimeException(e);
        }
    }

