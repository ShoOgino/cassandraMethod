    /**
     * Sets the bit at the specified index to <code>true</code>.
     * 
     * @param bitIndex
     *            a bit index.
     * @exception IndexOutOfBoundsException
     *                if the specified index is negative.
     * @since JDK1.0
     */
    public void set(int bitIndex)
    {
        if (bitIndex < 0)
            throw new IndexOutOfBoundsException("bitIndex < 0: " + bitIndex);
        
        int wordIndex = wordIndex(bitIndex);
        expandTo(wordIndex);
        
        words[wordIndex] |= (1L << bitIndex); // Restores invariants
        
        checkInvariants();
    }

