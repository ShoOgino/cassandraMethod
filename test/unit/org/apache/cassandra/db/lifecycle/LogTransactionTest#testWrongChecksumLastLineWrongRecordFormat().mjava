    @Test
    public void testWrongChecksumLastLineWrongRecordFormat() throws IOException
    {
        testCorruptRecord((t, s) ->
                          { // Fake a commit with invalid checksum and a wrong record format (extra spaces)
                              FileUtils.append(t.getLogFile().file,
                                               String.format("commit:[%d ,0 ,0 ][%d]",
                                                             System.currentTimeMillis(),
                                                             12345678L));
                          },
                          true);
    }

