        public SegmentedFile complete(ChannelProxy channel, long overrideLength, boolean isFinal)
        {
            assert !isFinal || overrideLength <= 0;
            return new CompressedSegmentedFile(channel, metadata(channel.filePath(), overrideLength, isFinal));
        }

