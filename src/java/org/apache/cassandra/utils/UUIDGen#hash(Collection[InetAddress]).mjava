    private static byte[] hash(Collection<InetAddress> data)
    {
        // Identify the host.
        Hasher hasher = Hashing.md5().newHasher();
        for(InetAddress addr : data)
            hasher.putBytes(addr.getAddress());

        // Identify the process on the load: we use both the PID and class loader hash.
        long pid = NativeLibrary.getProcessID();
        if (pid < 0)
            pid = new Random(System.currentTimeMillis()).nextLong();
        HashingUtils.updateWithLong(hasher, pid);

        ClassLoader loader = UUIDGen.class.getClassLoader();
        int loaderId = loader != null ? System.identityHashCode(loader) : 0;
        HashingUtils.updateWithInt(hasher, loaderId);

        return hasher.hash().asBytes();
    }

