    @VisibleForTesting
    public void destroyNativeTransport() throws InterruptedException
    {
        if (nativeTransportService != null)
        {
            nativeTransportService.destroy();
            nativeTransportService = null;
        }

        if (thriftServer != null)
        {
            thriftServer.stop();
            thriftServer = null;
        }
    }

