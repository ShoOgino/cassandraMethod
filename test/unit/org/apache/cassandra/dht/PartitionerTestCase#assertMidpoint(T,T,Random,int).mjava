    private void assertMidpoint(T left, T right, Random rand, int depth)
    {
        T mid = partitioner.midpoint(left, right);
        assert new Range(left, right).contains(mid)
                : "For " + left + "," + right + ": range did not contain mid:" + mid;
        if (depth < 1)
            return;

        if (rand.nextBoolean())
            assertMidpoint(left, mid, rand, depth-1);
        else
            assertMidpoint(mid, right, rand, depth-1);
    }

