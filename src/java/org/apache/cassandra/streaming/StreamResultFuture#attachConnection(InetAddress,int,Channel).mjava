    private void attachConnection(InetAddress from, int sessionIndex, Channel channel)
    {
        SocketAddress addr = channel.remoteAddress();
        InetAddress connecting = (addr instanceof InetSocketAddress ? ((InetSocketAddress) addr).getAddress() : from);
        StreamSession session = coordinator.getOrCreateSessionById(from, sessionIndex, connecting);
        session.init(this);
        session.attach(channel);
    }

