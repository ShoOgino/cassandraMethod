    @Test
    public void testMoveBackwardBetweenCalculateRangesToFetchWithPreferredEndpoints() throws Exception
    {
        EndpointsByReplica.Mutable expectedResult = new EndpointsByReplica.Mutable();

        //Need to pull the full replica and the transient replica that is losing the range
        expectedResult.put(fullReplica(aAddress, nineToken, elevenToken), fullReplica(eAddress, nineToken, elevenToken));
        expectedResult.put(transientReplica(aAddress, sixToken, nineToken), transientReplica(eAddress, sixToken, nineToken));

        invokeCalculateRangesToFetchWithPreferredEndpoints(calculateStreamAndFetchRangesMoveBackwardBetween().right,
                                                           constructTMDsMoveBackwardBetween(),
                                                           expectedResult.asImmutableView());

    }

