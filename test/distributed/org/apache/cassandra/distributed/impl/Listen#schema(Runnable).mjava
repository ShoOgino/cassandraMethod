    public Cancel schema(Runnable onChange)
    {
        final AtomicBoolean cancel = new AtomicBoolean();
        instance.isolatedExecutor.execute(() -> {
            UUID prev = instance.schemaVersion();
            while (true)
            {
                if (cancel.get())
                    return;

                LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(10L));

                UUID cur = instance.schemaVersion();
                if (!prev.equals(cur))
                    onChange.run();
                prev = cur;
            }
        });
        return () -> cancel.set(true);
    }

