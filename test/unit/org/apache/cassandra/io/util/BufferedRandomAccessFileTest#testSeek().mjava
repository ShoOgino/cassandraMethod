    @Test (expected = IllegalArgumentException.class)
    public void testSeek() throws Exception
    {
        BufferedRandomAccessFile file = createTempFile("brafSeek");
        byte[] data = new byte[BufferedRandomAccessFile.DEFAULT_BUFFER_SIZE + 20];
        for (int i = 0; i < data.length; i++)
        {
            data[i] = 'c';
        }

        file.write(data);
        assert file.bytesRemaining() == 0 && file.isEOF();

        file.seek(0);
        assertEquals(file.getFilePointer(), 0);
        assertEquals(file.bytesRemaining(), file.length());

        file.seek(20);
        assertEquals(file.getFilePointer(), 20);
        assertEquals(file.bytesRemaining(), file.length() - 20);

        // trying to seek past the end of the file
        file.seek(file.length() + 30);
        assertEquals(file.getFilePointer(), data.length + 30);
        assertEquals(file.getFilePointer(), file.length()); // length should be at seek position
        assert file.bytesRemaining() == 0 && file.isEOF();

        file.seek(-1); // throws IllegalArgumentException

        file.close();
    }

