    @Test
    public void testGetOldShardFromSystemTable() throws IOException
    {
        // Renewing a bunch of times and checking we get the same thing from
        // the system table that what is in memory
        CounterId.renewLocalId();
        CounterId.renewLocalId();
        CounterId.renewLocalId();

        List<CounterId.CounterIdRecord> inMem = CounterId.getOldLocalCounterIds();
        List<CounterId.CounterIdRecord> onDisk = SystemTable.getOldLocalCounterIds();

        assert inMem.equals(onDisk);
    }

