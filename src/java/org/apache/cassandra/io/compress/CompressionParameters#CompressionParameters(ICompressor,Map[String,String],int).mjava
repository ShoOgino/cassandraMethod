    public CompressionParameters(ICompressor compressor, Map<String, String> compressionOptions, int chunkLength)
    {
        this.compressorClass = compressor == null ? null : compressor.getClass();
        this.compressionOptions = compressor == null ? null : (compressionOptions == null ? Collections.<String, String>emptyMap() : compressionOptions);
        this.chunkLength = chunkLength;
        this.compressor = compressor;
    }

