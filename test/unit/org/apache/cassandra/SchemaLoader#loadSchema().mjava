    @BeforeClass
    public static void loadSchema() throws IOException
    {
        // Cleanup first
        cleanupAndLeaveDirs();

        CommitLog.instance.allocator.enableReserveSegmentCreation();

        Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler()
        {
            public void uncaughtException(Thread t, Throwable e)
            {
                logger.error("Fatal exception in thread " + t, e);
            }
        });


        // Migrations aren't happy if gossiper is not started
        startGossiper();
        try
        {
            for (KSMetaData ksm : schemaDefinition())
                MigrationManager.announceNewKeyspace(ksm);
        }
        catch (ConfigurationException e)
        {
            throw new RuntimeException(e);
        }
    }

