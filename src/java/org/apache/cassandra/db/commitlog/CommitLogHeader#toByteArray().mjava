    byte[] toByteArray() throws IOException
    {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        DataOutputStream dos = new DataOutputStream(bos);
        serializer.serialize(this, dos);
        dos.flush();
        return bos.toByteArray();
    }

