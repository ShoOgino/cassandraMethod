    public static Map<Integer, NetworkTopology.DcAndRack> networkTopology(int nodeCount,
                                                                          IntFunction<DcAndRack> dcAndRackSupplier)
    {

        return IntStream.rangeClosed(1, nodeCount).boxed()
                        .collect(Collectors.toMap(nodeId -> nodeId,
                                                  dcAndRackSupplier::apply));
    }

