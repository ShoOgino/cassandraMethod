    @VisibleForTesting
    public static void shutdownAndWait(long timeout, TimeUnit unit) throws InterruptedException, TimeoutException
    {
        ExecutorService[] executors = new ExecutorService[]{ asyncExecutor, blockingExecutor };
        shutdown(executors);
        awaitTermination(timeout, unit, executors);
    }

