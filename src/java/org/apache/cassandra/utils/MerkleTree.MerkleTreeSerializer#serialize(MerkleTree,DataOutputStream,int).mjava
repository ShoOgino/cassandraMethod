        public void serialize(MerkleTree mt, DataOutputStream dos, int version) throws IOException
        {
            if (version == MessagingService.VERSION_07)
            {
                ObjectOutputStream out = new ObjectOutputStream(dos);
                out.writeObject(mt);
            }
            else
            {
                dos.writeByte(mt.hashdepth);
                dos.writeLong(mt.maxsize);
                dos.writeLong(mt.size);
                Hashable.serializer.serialize(mt.root, dos, version);
            }
        }

