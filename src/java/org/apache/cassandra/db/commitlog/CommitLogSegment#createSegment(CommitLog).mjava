    static CommitLogSegment createSegment(CommitLog commitLog)
    {
        return commitLog.configuration.useCompression() ? new CompressedSegment(commitLog)
                                                        : new MemoryMappedSegment(commitLog);
    }

