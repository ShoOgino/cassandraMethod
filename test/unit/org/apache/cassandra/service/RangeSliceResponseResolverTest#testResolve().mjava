    @Test
    public void testResolve() throws Exception
    {
        InetAddress source1 = InetAddress.getByAddress(address1);
        InetAddress source2 = InetAddress.getByAddress(address2);

        List<InetAddress> sources = new ArrayList<InetAddress>();
        sources.add(source1);
        sources.add(source2);
        RangeSliceResponseResolver resolver = new RangeSliceResponseResolver("keyspace", sources, new RandomPartitioner());

        Collection responses = new LinkedBlockingQueue<Message>();
        responses.add(new Message(source1, StageManager.RESPONSE_STAGE, StorageService.Verb.READ_RESPONSE, messageBody));
        responses.add(new Message(source2, StageManager.RESPONSE_STAGE, StorageService.Verb.READ_RESPONSE, messageBody));

        List<Row> rows = resolver.resolve(responses);
        assert rows.size() == 2;
    }

