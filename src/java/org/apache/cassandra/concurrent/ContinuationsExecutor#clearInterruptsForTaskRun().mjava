    /**
     * Ensures that unless the pool is stopping, the current thread does not
     * have its interrupt set. This requires a double-check of state in case the
     * interrupt was cleared concurrently with a shutdownNow -- if so, the
     * interrupt is re-enabled.
     */
    private void clearInterruptsForTaskRun()
    {
        if (runStateLessThan(ctl.get(), STOP) && Thread.interrupted()
                && runStateAtLeast(ctl.get(), STOP))
            Thread.currentThread().interrupt();
    }

