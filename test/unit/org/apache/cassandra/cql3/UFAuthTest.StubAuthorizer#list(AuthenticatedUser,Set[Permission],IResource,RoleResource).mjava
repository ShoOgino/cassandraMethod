        public Set<PermissionDetails> list(AuthenticatedUser performer,
                                           Set<Permission> permissions,
                                           IResource resource,
                                           RoleResource grantee) throws RequestValidationException, RequestExecutionException
        {
            Pair<String, IResource> key = Pair.create(grantee.getRoleName(), resource);
            Set<Permission> perms = userPermissions.get(key);
            if (perms == null)
                return Collections.emptySet();


            Set<PermissionDetails> details = new HashSet<>();
            for (Permission permission : perms)
            {
                if (permissions.contains(permission))
                    details.add(new PermissionDetails(grantee.getRoleName(), resource, permission));
            }
            return details;
        }

