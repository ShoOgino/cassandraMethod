    static CommitLogSegment createSegment(CommitLog commitLog, Runnable onClose)
    {
        return commitLog.compressor != null ? new CompressedSegment(commitLog, onClose) : new MemoryMappedSegment(commitLog);
    }

