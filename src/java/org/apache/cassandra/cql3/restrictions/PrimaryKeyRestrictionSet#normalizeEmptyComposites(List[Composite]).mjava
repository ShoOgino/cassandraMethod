    private List<Composite> normalizeEmptyComposites(List<Composite> composites)
    {
        List<Composite> transformed = new ArrayList<>(composites.size());
        for (Composite c : composites)
            transformed.add(c.isEmpty() ? Composites.EMPTY : c);
        return transformed;
    }

