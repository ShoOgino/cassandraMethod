    /**
     * Create new streaming session with the peer.
     *
     * @param peer Address of streaming peer
     * @param factory is used for establishing connection
     */
    public StreamSession(InetAddress peer, StreamConnectionFactory factory, int index)
    {
        this.peer = peer;
        this.index = index;
        this.factory = factory;
        this.handler = new ConnectionHandler(this);
        this.metrics = StreamingMetrics.get(peer);
    }

