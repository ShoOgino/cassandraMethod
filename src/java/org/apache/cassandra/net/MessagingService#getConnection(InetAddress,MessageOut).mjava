    /**
     * Get a connection for a message to a specific endpoint. Constructs one if none exists.
     *
     * Can return null if the InternodeAuthenticator fails to authenticate the node.
     * @param to
     * @return The connection or null if internode authenticator says not to
     */
    public OutboundTcpConnection getConnection(InetAddress to, MessageOut msg)
    {
        OutboundTcpConnectionPool cp = getConnectionPool(to);
        return cp == null ? null : cp.getConnection(msg);
    }

