    private static Provider providerOf(EventLoopGroup eventLoopGroup)
    {
        while (eventLoopGroup instanceof SingleThreadEventLoop)
            eventLoopGroup = ((SingleThreadEventLoop) eventLoopGroup).parent();

        if (eventLoopGroup instanceof EpollEventLoopGroup)
            return Provider.EPOLL;
        if (eventLoopGroup instanceof NioEventLoopGroup)
            return Provider.NIO;
        throw new IllegalStateException();
    }

