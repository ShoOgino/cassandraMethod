    @Test
    public void testAddErrorListener() throws Exception
    {
        SyntaxErrorCounter firstCounter = new SyntaxErrorCounter();
        SyntaxErrorCounter secondCounter = new SyntaxErrorCounter();

        CharStream stream = new ANTLRStringStream("SELECT * FORM test;");
        CqlLexer lexer = new CqlLexer(stream);

        TokenStream tokenStream = new CommonTokenStream(lexer);
        CqlParser parser = new CqlParser(tokenStream);
        parser.addErrorListener(firstCounter);
        parser.addErrorListener(secondCounter);

        parser.query();

        // ANTLR 3.5 reports 2 errors in the sentence above (missing FROM and missing EOF).
        assertTrue(firstCounter.count > 0);
        assertTrue(secondCounter.count > 0);
    }

