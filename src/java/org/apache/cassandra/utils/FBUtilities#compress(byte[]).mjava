    public static byte[] compress(byte[] input) throws IOException
    {
        // Create an expandable byte array to hold the compressed data.
        // You cannot use an array that's the same size as the orginal because
        // there is no guarantee that the compressed data will be smaller than
        // the uncompressed data.
        ByteArrayOutputStream bos = new ByteArrayOutputStream(input.length);
        compressToStream(input,bos);
        bos.close();

        // Get the compressed data
        return bos.toByteArray();
    }

