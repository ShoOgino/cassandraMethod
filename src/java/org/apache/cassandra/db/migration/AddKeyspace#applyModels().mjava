    @Override
    public void applyModels() throws IOException
    {
        DatabaseDescriptor.setTableDefinition(ksm, newVersion);
        // these definitions could have come from somewhere else.
        CFMetaData.fixMaxId();
        Table.open(ksm.name);
        CommitLog.instance().forceNewSegment();
    }

