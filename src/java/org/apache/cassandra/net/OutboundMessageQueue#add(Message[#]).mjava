    /**
     * Add the provided message to the queue. Always succeeds.
     */
    void add(Message<?> m)
    {
        maybePruneExpired();
        externalQueue.offer(m);
        maybeUpdateMinimumExpiryTime(m.expiresAtNanos());
    }

