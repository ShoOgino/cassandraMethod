    static ByteBuffer allocate(ICompressor compressor, int size)
    {
        if (compressor.useDirectOutputByteBuffers())
            return ByteBuffer.allocateDirect(size);
        else
            return ByteBuffer.allocate(size);
    }

