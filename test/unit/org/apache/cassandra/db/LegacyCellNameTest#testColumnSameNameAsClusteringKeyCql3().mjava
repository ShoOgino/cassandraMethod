    // This throws IllegalArgumentException not because the cellname's value matches
    // the clustering key name, but because when converted to a Composite, the buffer
    // contains only a single component and so has no column name component
    @Test(expected=IllegalArgumentException.class)
    public void testColumnSameNameAsClusteringKeyCql3() throws Exception
    {
        CFMetaData cfm = CFMetaData.compile("CREATE TABLE cs (" +
                                            "k int, c text, v int, PRIMARY KEY(k, c))", "ks");

        LegacyLayout.LegacyCellName cellName 
            = LegacyLayout.decodeCellName(cfm, 
                                          LegacyLayout.makeLegacyComparator(cfm)
                                                      .fromString("c"));
    }

