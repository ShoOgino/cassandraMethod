        private WithLock(long nowNanos)
        {
            this.nowNanos = nowNanos;
            earliestExpiresAt = Long.MAX_VALUE;
            externalQueue.drain(internalQueue::offer);
        }

