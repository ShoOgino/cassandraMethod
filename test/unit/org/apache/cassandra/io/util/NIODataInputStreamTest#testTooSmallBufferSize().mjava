    @SuppressWarnings("resource")
    @Test(expected = IllegalArgumentException.class)
    public void testTooSmallBufferSize() throws Exception
    {
        new NIODataInputStream(new FakeChannel(), 4);
    }

