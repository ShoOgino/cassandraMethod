        /**
         * Consumes an iterator over entries within this range, setting the
         * value of this range's Leaf to the computed value.
         */
        public void validate(PeekingIterator<RowHash> entries)
        {
            assert tree != null : "Not intended for modification!";
            assert hashable instanceof Leaf;
            byte[] roothash;
            try
            {
                roothash = validateHelper(left(), right(), depth, entries);
            }
            catch (StopRecursion e)
            {
                throw new RuntimeException("Iterator contained invalid entry!");
            }

            // check that all values were consumed from the iterator, and that
            // a valid hash could be generated 
            if (entries.hasNext() || roothash == null)
                throw new RuntimeException("Bad iterator for " + this + "!");
            hashable.hash(roothash);
        }

