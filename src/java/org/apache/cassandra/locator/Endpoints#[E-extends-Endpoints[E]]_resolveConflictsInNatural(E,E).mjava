    // must apply first
    public static <E extends Endpoints<E>> E resolveConflictsInNatural(E natural, E pending)
    {
        return natural.filter(r -> !r.isTransient() || !pending.contains(r.endpoint(), true));
    }

