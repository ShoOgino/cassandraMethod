    /**
     * endpoint was completely removed from ring (as a result of removetoken command). Remove it
     * from token metadata and gossip and restore replica count.  Also delete any hints for it.
     */
    private void removeEndpointLocally(InetAddress endpoint)
    {
        restoreReplicaCount(endpoint);
        Gossiper.instance.removeEndpoint(endpoint);
        // gossiper onRemove will take care of TokenMetadata
        HintedHandOffManager.deleteHintsForEndPoint(endpoint);
    }

