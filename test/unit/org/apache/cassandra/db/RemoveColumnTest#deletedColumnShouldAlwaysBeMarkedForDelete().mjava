    @Test
    public void deletedColumnShouldAlwaysBeMarkedForDelete()
    {
        // Check for bug in #4307
        long timestamp = System.currentTimeMillis();
        int localDeletionTime = (int) (timestamp / 1000);
        Column c = DeletedColumn.create(localDeletionTime, timestamp, "dc1");
        assertTrue("DeletedColumn was not marked for delete", c.isMarkedForDelete(timestamp));

        // Simulate a node that is 30 seconds behind
        c = DeletedColumn.create(localDeletionTime + 30, timestamp + 30000, "dc2");
        assertTrue("DeletedColumn was not marked for delete", c.isMarkedForDelete(timestamp));

        // Simulate a node that is 30 ahead behind
        c = DeletedColumn.create(localDeletionTime - 30, timestamp - 30000, "dc3");
        assertTrue("DeletedColumn was not marked for delete", c.isMarkedForDelete(timestamp));
    }

