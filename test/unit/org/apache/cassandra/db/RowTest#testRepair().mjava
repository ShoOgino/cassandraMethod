    @Test
    public void testRepair()
    {
        Row row1 = new Row();
        ColumnFamily cf1 = ColumnFamily.create("Table1", "Standard1");
        cf1.addColumn(column("one", "A", 0));
        row1.addColumnFamily(cf1);

        Row row2 = new Row();
        ColumnFamily cf2 = ColumnFamily.create("Table1", "Standard1");
        cf2.addColumn(column("one", "B", 1));
        cf2.addColumn(column("two", "C", 1));
        ColumnFamily cf3 = ColumnFamily.create("Table2", "Standard3");
        cf3.addColumn(column("three", "D", 1));
        row2.addColumnFamily(cf2);
        row2.addColumnFamily(cf3);

        row1.repair(row2);
        cf1 = row1.getColumnFamily("Standard1");
        assert Arrays.equals(cf1.getColumn("one".getBytes()).value(), "B".getBytes());
        assert Arrays.equals(cf2.getColumn("two".getBytes()).value(), "C".getBytes());
        assert row1.getColumnFamily("Standard3") != null;
    }

