    // type provided separately to support recursive call for mixed command with each command type it is performing
    private void warmup(Command type, SettingsCommand command)
    {
        // warmup - do 50k iterations; by default hotspot compiles methods after 10k invocations
        PrintStream warmupOutput = new PrintStream(new OutputStream() { @Override public void write(int b) throws IOException { } } );
        int iterations;
        switch (type.category)
        {
            case BASIC:
                iterations = 50000;
                break;
            case MIXED:
                for (Command subtype : ((SettingsCommandMixed) command).getCommands())
                    warmup(subtype, command);
                return;
            case MULTI:
                int keysAtOnce = ((SettingsCommandMulti) command).keysAtOnce;
                iterations = Math.min(50000, (int) Math.ceil(500000d / keysAtOnce));
                break;
            default:
                throw new IllegalStateException();
        }
        output.println(String.format("Warming up %s with %d iterations...", type, iterations));
        run(type, 20, iterations, warmupOutput);
    }

