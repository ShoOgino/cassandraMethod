    public synchronized void finalizeCommit(Executor executor)
    {
        Preconditions.checkArgument(allStates(State.FINALIZE_PROMISED));
        logger.debug("Sending FinalizeCommit message to {}", participants);
        FinalizeCommit message = new FinalizeCommit(sessionID);
        for (final InetAddress participant : participants)
        {
            executor.execute(() -> sendMessage(participant, message));
        }
        setAll(State.FINALIZED);
    }

