    /**
     * @return The current section of the file, as an (offset,end) pair, or null if nothing left to stream.
     */
    public Pair<Long,Long> currentSection()
    {
        // linear search for the first appropriate section
        for (Pair<Long,Long> section : sections)
            if (ptr < section.right)
                return new Pair<Long,Long>(Long.valueOf(Math.max(ptr, section.left)), section.right);
        return null;
    }

