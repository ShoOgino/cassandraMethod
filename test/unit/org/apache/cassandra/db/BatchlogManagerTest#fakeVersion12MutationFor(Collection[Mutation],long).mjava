    static Mutation fakeVersion12MutationFor(Collection<Mutation> mutations, long now) throws IOException
    {
        // Serialization can't write version 1.2 mutations, pretend this is old by using random id and written_at and
        // saving it in the legacy batchlog.
        UUID uuid = UUID.randomUUID();
        ByteBuffer writtenAt = LongType.instance.decompose(now);
        int version = MessagingService.VERSION_30;
        ByteBuffer data = BatchlogManager.serializeMutations(mutations, version);

        return new RowUpdateBuilder(SystemKeyspace.LegacyBatchlog, FBUtilities.timestampMicros(), uuid)
            .clustering()
            .add("written_at", writtenAt)
            .add("data", data)
            .add("version", version)
            .build();
    }

