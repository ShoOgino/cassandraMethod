    /** Just create a socket */
    public static SSLSocket getSocket(EncryptionOptions options) throws IOException
    {
        SSLContext ctx = createSSLContext(options, true);
        SSLSocket socket = (SSLSocket) ctx.getSocketFactory().createSocket();
        try
        {
            String[] suites = filterCipherSuites(socket.getSupportedCipherSuites(), options.cipher_suites);
            socket.setEnabledCipherSuites(suites);
            socket.setEnabledProtocols(ACCEPTED_PROTOCOLS);
            return socket;
        }
        catch (IllegalArgumentException e)
        {
            socket.close();
            throw e;
        }
    }

