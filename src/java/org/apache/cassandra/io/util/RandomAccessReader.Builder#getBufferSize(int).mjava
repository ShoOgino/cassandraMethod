        /** The buffer size is typically already page aligned but if that is not the case
         * make sure that it is a multiple of the page size, 4096.
         * */
        private static int getBufferSize(int size)
        {
            if ((size & ~4095) != size)
            { // should already be a page size multiple but if that's not case round it up
                size = (size + 4095) & ~4095;
            }
            return size;
        }

