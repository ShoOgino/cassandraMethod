    public static DataResource maybeCorrectResource(DataResource resource, ClientState state) throws InvalidRequestException
    {
        if (resource.isTableLevel() && resource.getKeyspace() == null)
            return DataResource.table(state.getKeyspace(), resource.getTable());
        return resource;
    }

