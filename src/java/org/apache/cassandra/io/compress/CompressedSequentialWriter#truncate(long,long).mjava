    private void truncate(long toFileSize, long toBufferOffset)
    {
        try
        {
            channel.truncate(toFileSize);
            lastFlushOffset = toBufferOffset;
        }
        catch (IOException e)
        {
            throw new FSWriteError(e, getPath());
        }
    }

