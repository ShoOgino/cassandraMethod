    public static String string(ByteBuffer buffer, int offset, int length, Charset charset) throws CharacterCodingException
    {
        ByteBuffer copy = buffer.duplicate();
        copy.position(buffer.position() + offset);
        copy.limit(copy.position() + length);
        return string(buffer, charset);
    }

