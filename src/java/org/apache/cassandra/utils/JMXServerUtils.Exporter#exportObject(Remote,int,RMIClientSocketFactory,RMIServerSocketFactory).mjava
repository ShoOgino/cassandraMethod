        public Remote exportObject(Remote obj, int port, RMIClientSocketFactory csf, RMIServerSocketFactory ssf)
        throws RemoteException
        {
            // We should only ever get here by configuring our own JMX Connector server,
            // so assert some invariants we expect to be true in that case
            assert ssf != null; // we always configure a custom server socket factory

            // as we always configure a custom server socket factory, either for SSL or to ensure
            // only loopback addresses, we use a UnicastServerRef2 for exporting
            return new UnicastServerRef2(port, csf, ssf).exportObject(obj, null, true);
        }

