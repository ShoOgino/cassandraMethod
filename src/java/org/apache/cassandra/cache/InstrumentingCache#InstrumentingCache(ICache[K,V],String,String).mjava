    public InstrumentingCache(ICache<K, V> map, String table, String name)
    {
        this.map = map;
        MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();
        try
        {
            ObjectName mbeanName = new ObjectName("org.apache.cassandra.db:type=Caches,keyspace=" + table + ",cache=" + name);
            // unregister any previous, as this may be a replacement.
            if (mbs.isRegistered(mbeanName))
                mbs.unregisterMBean(mbeanName);
            mbs.registerMBean(this, mbeanName);
        }
        catch (Exception e)
        {
            throw new RuntimeException(e);
        }
    }

