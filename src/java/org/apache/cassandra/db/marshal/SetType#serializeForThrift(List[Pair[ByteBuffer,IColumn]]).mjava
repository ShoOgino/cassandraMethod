    public ByteBuffer serializeForThrift(List<Pair<ByteBuffer, IColumn>> columns)
    {
        // We're using a list for now, since json doesn't have maps
        List<Object> l = new ArrayList<Object>(columns.size());
        for (Pair<ByteBuffer, IColumn> p : columns)
            l.add(elements.compose(p.left));
        return ByteBufferUtil.bytes(FBUtilities.json(l));
    }

