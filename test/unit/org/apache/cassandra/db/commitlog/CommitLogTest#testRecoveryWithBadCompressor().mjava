    @Test(expected = CommitLogReplayException.class)
    public void testRecoveryWithBadCompressor() throws Exception
    {
        CommitLogDescriptor desc = new CommitLogDescriptor(4, new ParameterizedClass("UnknownCompressor", null));
        testRecovery(desc, new byte[0]);
    }

