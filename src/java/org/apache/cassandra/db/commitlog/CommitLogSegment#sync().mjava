    /**
     * Forces a disk flush for this segment file.
     */
    public void sync() throws IOException
    {
        if (needsSync)
        {
            buffer.force();
            needsSync = false;
        }
    }

