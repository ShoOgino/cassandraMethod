    @Test
    public void hashBytesFromLargerOnHeapByteBuffer() throws Exception {
        Hasher hasher = HashingUtils.CURRENT_HASH_FUNCTION.newHasher();
        ByteBuffer onHeapBuf = ByteBuffer.allocate(1024);
        for (int i = 0; i < 100; i++) {
            onHeapBuf.putInt(i);
        }
        onHeapBuf.position(0);
        HashingUtils.updateBytes(hasher, onHeapBuf);

        String md5HashInHexOfDirectByteBuffer = ByteBufferUtil.bytesToHex(ByteBuffer.wrap(hasher.hash().asBytes()));
        Assert.assertEquals("daf10ea8894783b1b2618309494cde21", md5HashInHexOfDirectByteBuffer);
    }

