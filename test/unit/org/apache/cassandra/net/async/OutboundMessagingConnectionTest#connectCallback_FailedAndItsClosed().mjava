    @Test
    public void connectCallback_FailedAndItsClosed()
    {
        ChannelPromise promise = channel.newPromise();
        promise.setFailure(new IOException("test is only a test"));
        omc.setState(CLOSED);
        Assert.assertFalse(omc.connectCallback(promise));
        Assert.assertSame(State.CLOSED, omc.getState());
    }

