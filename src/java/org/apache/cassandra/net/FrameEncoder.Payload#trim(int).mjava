        // do not invoke after finish()
        void trim(int length)
        {
            assert !isFinished;
            buffer.position(headerLength + length);
        }

