    public void setCrcCheckChance(double crcCheckChance)
    {
        try
        {
            // TODO: this doesn't affect sstables being written
            for (SSTableReader sstable : keyspace.getAllSSTables(SSTableSet.CANONICAL))
                if (sstable.compression)
                    sstable.getCompressionMetadata().parameters.setCrcCheckChance(crcCheckChance);
        }
        catch (ConfigurationException e)
        {
            throw new IllegalArgumentException(e.getMessage());
        }
    }

