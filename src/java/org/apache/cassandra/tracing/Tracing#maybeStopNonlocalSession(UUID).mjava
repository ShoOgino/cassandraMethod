    /**
     * Removes the state data but does not log it as complete.
     * For use by replica nodes, after replying to the master.
     *
     * Note: checking that the session exists is the job of the caller.
     */
    public void maybeStopNonlocalSession(UUID sessionId)
    {
        TraceState state = sessions.get(sessionId);
        assert state != null;
        if (!state.isLocallyOwned)
            sessions.remove(state.sessionId);
    }

