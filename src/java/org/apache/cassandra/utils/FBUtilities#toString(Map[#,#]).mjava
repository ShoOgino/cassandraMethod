    public static String toString(Map<?,?> map)
    {
        // wtf, why isn't something like this in guava or commons collections?
        StringBuilder sb = new StringBuilder("{");
        for (Map.Entry<?,?> entry : map.entrySet())
        {
            sb.append(toString(entry.getKey())).append(": ").append(toString(entry.getValue())).append(", ");
        }
        sb.append("}");
        return sb.toString();
    }

