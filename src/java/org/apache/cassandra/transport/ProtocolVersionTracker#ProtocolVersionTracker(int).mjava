    public ProtocolVersionTracker(final int capacity)
    {
        this.clientsByProto = new EnumMap<>(ProtocolVersion.class);

        for (ProtocolVersion version : ProtocolVersion.values())
        {
            clientsByProto.put(version, Caffeine.newBuilder().maximumSize(capacity)
                                                .build(key -> Clock.instance.currentTimeMillis()));
        }
    }

