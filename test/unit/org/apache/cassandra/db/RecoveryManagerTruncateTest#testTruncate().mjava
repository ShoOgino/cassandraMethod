	@Test
	public void testTruncate() throws IOException
	{
		Keyspace keyspace = Keyspace.open(KEYSPACE1);
		ColumnFamilyStore cfs = keyspace.getColumnFamilyStore("Standard1");

		Mutation rm;
		ColumnFamily cf;

		// add a single cell
        cf = ArrayBackedSortedColumns.factory.create(KEYSPACE1, "Standard1");
		cf.addColumn(column("col1", "val1", 1L));
        rm = new Mutation(KEYSPACE1, ByteBufferUtil.bytes("keymulti"), cf);
		rm.applyUnsafe();

		// Make sure data was written
		assertNotNull(getFromTable(keyspace, "Standard1", "keymulti", "col1"));

		// and now truncate it
		cfs.truncateBlocking();
        CommitLog.instance.resetUnsafe();
		CommitLog.instance.recover();

		// and validate truncation.
		assertNull(getFromTable(keyspace, "Standard1", "keymulti", "col1"));
	}

