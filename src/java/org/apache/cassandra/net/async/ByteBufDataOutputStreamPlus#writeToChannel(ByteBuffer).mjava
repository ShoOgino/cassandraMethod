    /**
     * Writes the incoming buffer directly to the backing {@link #channel}, without copying to the intermediate {@link #buffer}.
     * The incoming buffer will be automatically released when the netty channel invokes the listeners of success/failure to
     * send the buffer.
     */
    public ChannelFuture writeToChannel(ByteBuffer buffer) throws IOException
    {
        ChannelFuture channelFuture = writeToChannel(Unpooled.wrappedBuffer(buffer));
        channelFuture.addListener(future -> FileUtils.clean(buffer));
        return channelFuture;
    }

