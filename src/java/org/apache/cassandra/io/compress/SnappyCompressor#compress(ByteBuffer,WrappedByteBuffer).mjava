    public int compress(ByteBuffer src, WrappedByteBuffer dest) throws IOException
    {
        int result = Snappy.compress(src, dest.buffer);

        // Snappy doesn't match LZ4 and Deflate w/regards to state it leaves dest ByteBuffer's counters in
        dest.buffer.position(dest.buffer.limit());
        dest.buffer.limit(dest.buffer.capacity());
        return result;
    }

