    public AtomicBTreePartition(CFMetaData metadata, DecoratedKey partitionKey, MemtableAllocator allocator)
    {
        // TODO: is this a potential bug? partition columns may be a subset if we alter columns while it's in memtable
        super(metadata, partitionKey, metadata.partitionColumns());
        this.allocator = allocator;
        this.ref = EMPTY;
    }

