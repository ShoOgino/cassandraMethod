    @Override
    public void write(ByteBuffer buffer)
    {
        long newLength = ensureCapacity(buffer.remaining());
        this.buffer.setBytes(length, buffer);
        length = newLength;
    }

