    // called in the selector thread
    public void write(SelectionKey key)
    {   
        turnOffInterestOps(key, SelectionKey.OP_WRITE);                
        doPendingWrites();
        /*
         * This is executed only if we are in streaming mode.
         * Idea is that we read a chunk of data from a source
         * and wait to read the next from the source until we 
         * are siganlled to do so from here. 
        */
         resumeStreaming();        
    }

