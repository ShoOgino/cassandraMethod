    public void addTimeTaken(InetAddress from, long timeTaken)
    {
        String dc = DatabaseDescriptor.getEndpointSnitch().getDatacenter(from);
        Timer timer = dcLatency.get(dc);
        if (timer == null)
        {
            timer = dcLatency.computeIfAbsent(dc, k -> Metrics.timer(factory.createMetricName(dc + "-Latency")));
        }
        timer.update(timeTaken, TimeUnit.MILLISECONDS);
        crossNodeLatency.update(timeTaken, TimeUnit.MILLISECONDS);
    }

