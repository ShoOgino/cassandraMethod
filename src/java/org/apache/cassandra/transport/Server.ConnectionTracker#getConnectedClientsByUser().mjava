        public Map<String, Integer> getConnectedClientsByUser()
        {
            Map<String, Integer> result = new HashMap<>();
            for(Channel c : allChannels)
            {
                Connection connection = c.attr(Connection.attributeKey).get();
                if (connection instanceof ServerConnection)
                {
                    ServerConnection conn = (ServerConnection) connection;
                    String name = conn.getClientState().getUser().getName();
                    result.put(name, result.getOrDefault(name, 0) + 1);
                }
            }
            return result;
        }

