        public void serialize(DeletionInfo info, DataOutput out, int version) throws IOException
        {
            DeletionTime.serializer.serialize(info.topLevel, out);
            if (version < MessagingService.VERSION_12)
            {
                if (info.ranges != null && !info.ranges.isEmpty())
                    throw new RuntimeException("Cannot send range tombstone to pre-1.2 node. You should upgrade all node to Cassandra 1.2+ before using range tombstone.");
                // Otherwise we're done
            }
            else
            {
                RangeTombstoneList.serializer.serialize(info.ranges, out, version);
            }
        }

