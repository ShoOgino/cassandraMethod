        // do not invoke after finish()
        int remaining()
        {
            assert !isFinished;
            return buffer.remaining();
        }

