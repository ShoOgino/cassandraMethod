    public static int computeNewCapacity(int currentCapacity, int idxToSet)
    {
        int newCapacity = currentCapacity == 0 ? 4 : currentCapacity;
        while (idxToSet >= newCapacity)
            newCapacity = 1 + (newCapacity * 3) / 2;
        return newCapacity;
    }

