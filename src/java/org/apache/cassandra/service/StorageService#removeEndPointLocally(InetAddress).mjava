    /**
     * endPoint was completely removed from ring (as a result of removetoken command). Remove it
     * from token metadata and gossip and restore replica count.
     */
    private void removeEndPointLocally(InetAddress endPoint)
    {
        restoreReplicaCount(endPoint);
        Gossiper.instance.removeEndPoint(endPoint);
        tokenMetadata_.removeEndpoint(endPoint);
    }

